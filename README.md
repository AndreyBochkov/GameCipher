# Шифроград

Android-приложение, игра, в которой игрок расшифровывает шифр замены *(шифр, в котором каждому изначальному символу сопоставлена замена, притом только одна. То есть, все буквы А превратятся в треугольники, все Б - в квадраты, т. д. Это пример, в нашем проекте символы витьеватее)*. По заходе в приложение появляется обучение (краткое изложение текста отсюда), оно же появляется по выходе из вкладок МЕНЮ, ШИФР и ИЗМЕНИТЬ (о них позже).

### Навигация

Нажатием на иконку вкладки (у вкладки МЕНЮ иконка трех линий, у вкладки ШИФР иконка домика 🏠, у вкладки ИЗМЕНИТЬ - карандаша 📝) можно перейти в эту вкладку, если сейчас не в ней или выйти из нее, если сейчас в ней. Другими словами: нажимаем один раз - видим то, куда нажали, нажимаем второй раз - видим обратно обучение.

Это позволяет игроку вернуться к обучению в любой момент, то есть переключаться между четырьмя вкладками тремя кнопками навигации.

### Вкладки

1. ШИФР
   Здесь отображается зашифрованный текст с учетом сделанных вами изменений. Просмотрите его - если найдете знакомое слово, то сможете определить буквы, скрытые за символами и указать их. Например, \[@&llo!\] => \[@ = H\], \[& = e\] *(Это пример, в проекте символы витьеватее)*. Для каждого уровня набор символов перетасован.
2. ИЗМЕНИТЬ
   Здесь представлен интерфейс редактирования пар СИМВОЛ-БУКВА. Все привязки автоматически сохраняются и прогресс восстанавливается при повторном входе в приложение. Чтобы добавить пару:

   1. Выберите, какой символ связан с какой буквой с помощью выпадающих меню.
   2. Нажмите "Привязать!" -> надаись о привязке (надпись вида "X >>> A") появится ниже интерфейса. Если ваши предположения верны, надпись зеленая, если нет - красная. Обратите внимание, что значения выпадающих меню после привязывания сбросились и при их выборе больше нет только что выбранных значений - один символ или одну букву нельзя привязать дважды!

   Чтобы удалить пару, нажмите на надпись о ней. Например, надпись "X >>> A" окрасилась красным, значит, нажимаем на нее - и она пропадает, символ X снова можно выбрать, перепривязав.
3. МЕНЮ
   Здесь представлен интерфейс выбора уровня. Выбранная опция помечена другим цветом.

### Программная информация и другие неинтересные вещи

Приложение построено (почти) с учетом best-practices Android-Kotlin разработки. Все данные проходят через ViewModel, все Composable разведены по разным файлам. Навигация реализована условно, а не через NavHost (всего три страницы). Вот архитектура `src` по папкам.

```
app/src/main/java/com/ab/GameCipher/
├── data/
│   └── PageType.kt ...................... interface для условной навигации
│   └── UserPreferencesRepository.kt ..... функции сохранения и чтения данных из DataStore
├── GameCipherApplication.kt ............. DI-класс для передачи во ViewModel UserPreferencesRepository (дополнительная точка входа)
├── MainActivity.kt ...................... основная точка входа
├── ui/
│   ├── composable/
│   │   ├── GameCipherApp.kt ............. основная Composable-функция, реализация условной навигации
│   │   ├── GameCipherUiState.kt ......... data-класс для работы ViewModel, типы сохраняемых в памяти данных
│   │   ├── GameCipherViewModel.kt ....... функции работы с внутренними данными
│   │   ├── Pages.kt ..................... Composable-функции трех страниц приложения
│   │   └── Utils.kt ..................... всякое необходимое для страниц (@Composable LayoutText(...), например)
│   └── theme/*.kt ....................... тема приложения. Сгенерировано MaterialBuilder
└── utils/
    └── Utils.kt ......................... всякое необходимое для работы логики (т. е., для ф-ций ViewModel)
```

### Ссылки + благодарности

1. Мне
2. Дизайнеру символов - Постновой Е.
3. [MaterialBuilder](https://material-foundation.github.io/material-theme-builder/)
4. [Android Project](https://www.android.com/)
